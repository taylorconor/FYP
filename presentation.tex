\documentclass{beamer}

\beamertemplatenavigationsymbolsempty
\setbeamertemplate{footline}[frame number]

\usepackage{tikz}
\usetikzlibrary{matrix,positioning,arrows.meta,arrows,calc}

\usepackage{soul}

\title[Crisis]
{Decentralised location verification system}
\author{Conor Taylor}
\date{
	B.A.(Mod.) Computer Science\\
	Final Year Project, April 2016\\
	Supervisor: Stephen Barrett
}

\begin{document}

	\frame{\titlepage}
	
	\begin{frame}
    	\frametitle{Problem}
    	Design and evaluate a decentralised system that allows participants to prove their location.
    	\begin{itemize}
    		\item<2-> Is is possible?
    		\item<3-> Is it resilient to attack?
    		\item<4-> Does it satisfy my goals?
    	\end{itemize}
    	\null
    	\visible<5->{
    		Goals:
   			\begin{itemize}
   				\item<5-> Privacy protecting.
    			\item<6-> False location claims must be detectable.
    			\item<7-> Cannot rely on any centralised resources.
    			\item<8-> Capable of running on mobile devices.
    		\end{itemize}
    	}
	\end{frame}
	
	\begin{frame}
		\frametitle{Background}
		There are no known existing decentralised location proof systems.
		\newline

		\visible<2->{There are existing \textit{distributed} location proof systems, with different interesting approaches.}
	\end{frame}
	
	\begin{frame}
		\frametitle{Background}
		\framesubtitle{HP Laboratories}
		\begin{center}
			HP Laboratories.
		\end{center}
	\end{frame}
	
	\begin{frame}[noframenumbering]
		\frametitle{Background}
		\framesubtitle{HP Laboratories}
		\begin{figure}[H]
			\begin{center}
				\resizebox {0.5\columnwidth} {!} {
					\includegraphics<1>{diagrams/femto_diag_5.png}
					\includegraphics<2>{diagrams/femto_diag_4.png}
					\includegraphics<3>{diagrams/femto_diag_3.png}
					\includegraphics<4>{diagrams/femto_diag_2.png}
					\includegraphics<5>{diagrams/femto_diag_1.png}
					\includegraphics<6>{diagrams/femto_diag_0.png}
				}
			\end{center}
		\end{figure}
	\end{frame}
	
	\begin{frame}
		\frametitle{Background}
		\framesubtitle{University of Waterloo}
		\begin{center}
			University of Waterloo.
		\end{center}
	\end{frame}
	
	\begin{frame}[noframenumbering]
		\frametitle{Background}
		\framesubtitle{University of Waterloo}
		\begin{figure}[H]
			\begin{center}
				\resizebox {0.8\columnwidth} {!} {
					\includegraphics<1>{diagrams/AP_paper_2.png}
					\includegraphics<2>{diagrams/AP_paper_1.png}
					\includegraphics<3>{diagrams/AP_paper_3.png}
				}
			\end{center}
		\end{figure}
	\end{frame}
	
	\begin{frame}
		\frametitle{Background}
		\framesubtitle{Who, When. and Where?}
		\begin{center}
			Who, When, and Where?\\
			University of Alabama.
		\end{center}
	\end{frame}
	
	\begin{frame}[noframenumbering]
		\frametitle{Background}
		\framesubtitle{Who, When. and Where?}
		\begin{figure}[H]
			\begin{center}
				\resizebox {0.4\columnwidth} {!} {
					\includegraphics<1>{diagrams/witness_paper_3.png}
					\includegraphics<2>{diagrams/witness_paper_2.png}
					\includegraphics<3>{diagrams/witness_paper_1.png}
					\includegraphics<4>{diagrams/witness_paper_0.png}
					\includegraphics<5>{diagrams/witness_paper_5.png}
					\includegraphics<6>{diagrams/witness_paper_4.png}
				}
			\end{center}
		\end{figure}
	\end{frame}
	
	\begin{frame}
    	\frametitle{Problem}
    	\framesubtitle{Issues}
    	A decentralised location proof system needs a way of:
   		\begin{itemize}
    		\item Creating, storing, and providing access to location proofs.
    		\item Detecting fake location proofs.
    		\item Allowing users full control over their own privacy.
    	\end{itemize}
		\visible<2>{
		\null
		Without any central resource to store data or manage the system.}
	\end{frame}
	
	\begin{frame}
		\frametitle{Background}
		\framesubtitle{Blockchain}
		A blockchain is a decentralised, tamper-proof, append-only ledger.
		\newline
		
		\visible<2->{Allows transaction records to be stored publicly and permenantly, without use of a central authority.}
	\end{frame}
	
	\begin{frame}[noframenumbering]
		\frametitle{Background}
		\framesubtitle{Blockchain}
		\begin{figure}[H]
			\resizebox {0.8\columnwidth} {!} {\input{diagrams/blockchain.tex}}
		\end{figure}
	\end{frame}
	
	\begin{frame}[noframenumbering]
		\frametitle{Background}
		\framesubtitle{Blockchain}
		Decentralised, tamper-proof method of storing location proofs.
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		3 distinct entities:
		\begin{itemize}
			\item Mobile node $\vcenter{\hbox{\includegraphics[scale=0.2]{diagrams/overview-presentation/mobile-node.png}}}$
			\item Miner node $\vcenter{\hbox{\includegraphics[scale=0.2]{diagrams/overview-presentation/miner-node.png}}}$
			\item Verifier node $\vcenter{\hbox{\includegraphics[scale=0.2]{diagrams/overview-presentation/verifier-node.png}}}$
		\end{itemize}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Overview}
		\begin{figure}[H]
			\begin{center}
				\resizebox {\columnwidth} {!} {
					\includegraphics<1>{diagrams/overview-presentation/Overview-13.png}
					\includegraphics<2>{diagrams/overview-presentation/Overview-12.png}
					\includegraphics<3>{diagrams/overview-presentation/Overview-11.png}
					\includegraphics<4>{diagrams/overview-presentation/Overview-10.png}
					\includegraphics<5>{diagrams/overview-presentation/Overview-9.png}
					\includegraphics<6>{diagrams/overview-presentation/Overview-8.png}
					\includegraphics<7>{diagrams/overview-presentation/Overview-7.png}
					\includegraphics<8>{diagrams/overview-presentation/Overview-6.png}
					\includegraphics<9>{diagrams/overview-presentation/Overview-5.png}
					\includegraphics<10>{diagrams/overview-presentation/Overview-4.png}
					\includegraphics<11>{diagrams/overview-presentation/Overview-3.png}
					\includegraphics<12>{diagrams/overview-presentation/Overview-2.png}
					\includegraphics<13>{diagrams/overview-presentation/Overview-1.png}
					\includegraphics<14>{diagrams/overview-presentation/Overview-0.png}
			}
			\end{center}
		\end{figure}
	\end{frame}
	
	\begin{frame}[noframenumbering]
    	\frametitle{Problem}
    	A system that allows participants to verify a users claimed location.
    	\\
    	\null
    	Goals:
   		\begin{itemize}
    		\item Privacy protecting.
    		\item False location claims must be detectable.
    		\item \textcolor{red}{Cannot rely on any centralised resources.}
    		\item \textcolor{red}{Capable of running on mobile devices.}
    	\end{itemize}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Identities}
		Used to \textbf{anonymously} identify a node in a transaction.
		\newline
		
		Every node generates a new identity for each transaction, making it untrackable.
		\newline
		
		Balancing goals:
		\begin{itemize}
			\item False location claims must be detectable.
			\item Privacy protecting.
		\end{itemize}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Identities: Nonce Lists}
		\begin{figure}[H]
			\resizebox {\columnwidth} {!} {\input{diagrams/nonce_list_presentation.tex}}
		\end{figure}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Identities: Duplication}
		Identity duplication unavoidable in a scalable decentralised system.
		\visible<2->{
		\begin{table}[]
			\begin{tabular}{l|l}
				\textbf{ID} & \textbf{Contents}\\\hline
				\dots & \\\hline
				ffa0 & \\\hline
				ffa1 & \\\hline
				ffa2 & $T_{A4}$ \visible<3->{, \textcolor{red}{$T_{C102}$}}\\\hline
				ffa3 & \\\hline
				ffa4 & $T_{B87}$\\\hline
				\dots & \\
			\end{tabular}
		\end{table}
		}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Transactions}
		Transactions are created when two mobile nodes physically meet.
		\begin{itemize}
			\item Ad-hoc bluetooth connection between the nodes.
		\end{itemize}		
		
		\begin{center}
			\resizebox {0.35\columnwidth} {!} {\includegraphics{diagrams/overview-presentation/mobile-node-meet.png}}
		\end{center}
	\end{frame}
	
	\begin{frame}[noframenumbering]
		\frametitle{Design}
		\framesubtitle{Transactions}
		Node $A$ will create the following transaction after meeting node $B$:
		\newline
		
		\begin{center}
		\only<1>{$T_{An} = K_A(ts_A|loc_A|ID_{An}|ID_{Bm}|KP_{Bm})$}
		\only<2->{$T_{An} = K_A(ts_A|loc_A|ID_{An}|ID_{Bm}|\textcolor{red}{KP_{Bm}})$}
		\end{center}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Transactions: Key Packets}
		Key Packets provide a Verifier with a means of examining a mobile node's transactions.
		\newline
		
		\visible<2->{
		Two main properties:
		\begin{itemize}
			\only<2>{
			\item Allow a Verifier to build a tree of a mobile node's activity.
			}
			\only<3->{
			\item \textcolor{red}{Allow a Verifier to build a tree of a mobile node's activity.}
			}
			\item Allow a mobile node to preserve control its own privacy.
		\end{itemize}
		}
	\end{frame}
	
	\begin{frame}[b]
		\frametitle{Design}
		\framesubtitle{Transactions: Key Packets - Verification}
		\vspace{-0.5cm}
		\begin{figure}
			\resizebox {\columnwidth} {!} {\input{diagrams/tree.tex}}
		\end{figure}
	\end{frame}
	
	\begin{frame}[noframenumbering]
    	\frametitle{Problem}
    	A system that allows participants to verify a users claimed location.
    	\\
    	\null
    	Goals:
   		\begin{itemize}
    		\item Privacy protecting.
    		\item \textcolor{red}{False location claims must be detectable.}
    		\item Cannot rely on any centralised resources.
    		\item Capable of running on mobile devices.
    	\end{itemize}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Transactions: Key Packets}
		Key Packets provide a Verifier with a means of examining a mobile node's transactions.
		\newline
		
		Two main properties:
		\begin{itemize}
			\item Allow a Verifier to build a graph of a mobile node's activity.
			\item \textcolor{red}{Allow a mobile node to preserve control its own privacy.}
		\end{itemize}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Transactions: Key Packets - Privacy}
		Published transactions split into two parts: Link and Transaction
		\newline
		
		\begin{figure}
			\resizebox {\columnwidth} {!} {\input{diagrams/link.tex}}
		\end{figure}
		\visible<4->{
			\begin{center}
				Two \textit{Key Lists}: $KL_{AT}$ and $KL_{AL}$.
			\end{center}
		}
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Transactions}
		Node $A$ will create the following transaction after meeting node $B$:
		
		\begin{center}
		\only<1>{$T_{An} = \textcolor{red}{K_A}(ts_A|loc_A|ID_{An}|ID_{Bm}|KP_{Bm})$}
		\only<2>{$T_{An} = \textcolor{red}{KL_{AT}[n]}(ts_A|loc_A|ID_{An}|ID_{Bm}|KP_{Bm})$}
		\only<3->{$T_{An} = KL_{AT}[n](ts_A|loc_A|ID_{An}|ID_{Bm}|KP_{Bm})$}
		\end{center}
		\vspace{0.5cm}
		
		\visible<3->{
		Node $A$ will then publish the following to the blockchain:
		
		\begin{center}
		$P_{An} = ID_{An}|\textcolor{red}{KL_{AL}[n]}(ID_{An-1}|ts_A)|T_{An}$
		\end{center}
		} 
	\end{frame}
	
	\begin{frame}
		\frametitle{Design}
		\framesubtitle{Verification}
		Mobile node needs to provide Verifier node with:
		\begin{itemize}
			\item ID of most recent transaction.
			\item Key Packet for $n$ most recent transactions.
			\item Nonce list for $n$ most recent IDs.
			\item Public key.
		\end{itemize}
	\end{frame}
	
	\begin{frame}[noframenumbering]
    	\frametitle{Problem}
    	A system that allows participants to verify a users claimed location.
    	\\
    	\null
    	Goals:
   		\begin{itemize}
    		\item \textcolor{red}{Privacy protecting.}
    		\item False location claims must be detectable.
    		\item Cannot rely on any centralised resources.
    		\item Capable of running on mobile devices.
    	\end{itemize}
	\end{frame}
	
	\begin{frame}
		\frametitle{Evaluation}
		Case-based evaluation.
		\newline
		
		\visible<2->{
		Two kinds of case-based evaluation:
		\begin{itemize}
			\item Desirable properties.
			\item Threats.
		\end{itemize}}
	\end{frame}
	
	\begin{frame}
		\frametitle{Evaluation}
		\framesubtitle{Desirable properties}
		OTIT defines 8 desirable properties of a location proof system:
		\begin{columns}
			\begin{column}{0.5\textwidth}
				\begin{itemize}
					\item Chronological.
					\item Order-preserving.\newline
					\item Verifiable.\newline
					\item Tamper evident.
				\end{itemize}
			\end{column}
			\begin{column}{0.5\textwidth}
				\begin{itemize}
					\item Privacy preserved.
					\item Selective in-sequence privacy.
					\item Privacy protected chronology.
					\item Convenience and derivablilty.
				\end{itemize}
			\end{column}
		\end{columns}
	\end{frame}
	
	\begin{frame}
		\frametitle{Evaluation}
		\framesubtitle{Threats}
		A number of papers have gathered threats to evaluate their models against:
		\begin{columns}
			\begin{column}{0.5\textwidth}
				\begin{itemize}
					\item Dishonest users.
					\item Malicious intruders.
					\item Curious users.
					\item Malicious applications.
					\item False timestamping.
					\item Implication.
					\item Proof switching.
					\item Relay attack.\newline
				\end{itemize}
			\end{column}
			\begin{column}{0.5\textwidth}
				\begin{itemize}
					\item Eavesdroppers.
					\item Wormhole attacks.
					\item False presence.
					\item False assertion.
					\item Denial of presence.
					\item Denial of witness's presence.
					\item Privacy violation.
					\item \st{Weak identities.}
					\item \st{Sybil attack.}
				\end{itemize}
			\end{column}
		\end{columns}
	\end{frame}	
	
	\begin{frame}
		\frametitle{Evaluation}
		\framesubtitle{Threats - Weak identities}
		I assume that private keys and nonce lists are never shared.
	\end{frame}
	
	\begin{frame}
		\frametitle{Evaluation}
		\framesubtitle{Threats - Sybil attack}
		No way of determining if two distinct location proof chains were created by two distinct mobile nodes.
		\newline
		
		\visible<2->{
		No provable decentralised solution to the Sybil attack (yet).}
		\newline
		
		\visible<3->{
		Mitigations:
		\begin{itemize}
			\item Introduce identity creation penalty.
			\item Web of trust.
			\item Secret verification techniques.
		\end{itemize}}
	\end{frame}
	
	\begin{frame}
		\frametitle{Conclusion}
		Developed a privacy-protecting, decentralised location proof system.
		\newline
		
		\visible<2->{
		Completed a case-based evaluation.}
		\newline
		
		\visible<3->{
		Currently vulnerable to extremely targeted Sybil attacks.}
		\newline
		
		\visible<4->{
		Resilient against every other known attack.
		\begin{itemize}
			\item<5-> Sybil attack can be heavily mitigated against.
			\item<6-> Decentralised solution to Sybil attack may be found in future.
		\end{itemize}}
	\end{frame}
	
	\begin{frame}
		\frametitle{Future work}
		Further study into advanced Verification techniques.
		\newline
		
		\visible<2->{
		Investigate the impact that witholding certain private transactions has on verifiability.}
		\newline
		
		\visible<3->{
		Build it!}
	\end{frame}
	
\end{document}